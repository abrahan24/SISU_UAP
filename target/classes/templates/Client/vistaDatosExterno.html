<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>INFORMACION</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
    <meta content="Themesdesign" name="author" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="assets/images/logoS.png">

    <!-- DataTables -->
    <link href="../../../../assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet"
        type="text/css" />
    <link href="../../../../assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css" rel="stylesheet"
        type="text/css" />


    <!-- Responsive datatable examples -->
    <link href="../../../../assets/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css"
        rel="stylesheet" type="text/css" />

    <link href="../../../../assets/libs/alertifyjs/build/css/alertify.min.css" rel="stylesheet" type="text/css" />
    <link href="../../../../assets/libs/alertifyjs/build/css/themes/default.min.css" rel="stylesheet" type="text/css" />

    <!-- Bootstrap Css -->
    <link href="../../../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!-- Icons Css -->
    <link href="../../../../assets/css/icons.min.css" rel="stylesheet" type="text/css" />
    <!-- App Css-->
    <link href="../../../../assets/css/app.min.css" rel="stylesheet" type="text/css" />

    <link href="../../../../assets/css/style.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/line.css">


    <!-- Selectize -->
    <link href="assets/libs/selectize/css/selectize.css" rel="stylesheet" type="text/css" />

    <!-- spectrum colorpicker -->
    <link href="assets/libs/spectrum-colorpicker/spectrum.css" rel="stylesheet" type="text/css" />

    <!-- datepicker -->
    <link href="assets/libs/air-datepicker/css/datepicker.min.css" rel="stylesheet" type="text/css" />

    <link href="assets/libs/bootstrap-touchspin/jquery.bootstrap-touchspin.min.css" rel="stylesheet" />
</head>

<body>
    <div class="home-btn d-none d-sm-block">
        <a href="index.html"><i class="mdi mdi-home-variant h2"></i></a>
    </div>

    <div class="account-pages my-5 pt-sm-1">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-7">
                    <div class="text-center mb-5">
                        <img src="assets/images/logoS.png" height="100" alt="logo">
                        <h4 class="mt-4">Servicio Integral de Salud Universitaria</h4>
                        <p class="text-muted">Universidad Amazonica de Pando</p>
                    </div>
                </div>
            </div>
            <div class="row">

                <!-- INICIO INFORMACION ADMINISTRATIVO -->

                <div class="container">
                    <div class="row justify-content-center" style="height: 50vh;">
                        <div class="col-xl-8 col-sm-8 d-flex align-items-center justify-content-center"
                            style="height: 500px;">
                            <div class="card bg-light">
                                <div class="card-body p-4">
                                    <form id="form1" action="/externoNuevoF" method="post">

                                        <div class="row">
                                            <div class="col-md-4 mb-3">
                                                <label for="nombreAdministrativo">Nombres:</label>
                                                <input type="text" class="form-control" th:field="${persona.nombres}" onkeyup="javascript:this.value=this.value.toUpperCase();" required>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="apPaternoA">Apellido Paterno</label>
                                                <input type="text" id="apPaternoA" name="apPaternoA" onkeyup="javascript:this.value=this.value.toUpperCase();" required
                                                    class="form-control" th:field="${persona.apPaterno}">
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="apMaternoA">Apellido Materno</label>
                                                <input type="text" id="apMaternoA" name="apMaternoA" onkeyup="javascript:this.value=this.value.toUpperCase();" required
                                                    class="form-control" th:field="${persona.apMaterno}">
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4 mb-3">
                                                <label for="ci">CI:</label>
                                                <input type="text" id="ci" name="ci" class="form-control"
                                                    th:field="${persona.ci}" required>
                                            </div>

                                            <div class="col-md-4 mb-3">
                                                <label for="dip">Expedido:</label>
                                                <div class="form-group form-group-custom mb-6">
                                                    <select class="selectize" name="dip" th:field="${persona.dip}" required>
                                                        <option value="">Elegir..</option>
                                                        <th:block th:each="dip: ${dips}" th:if="${dip.estado != 'X'}">
                                                            <option th:value="${dip.idDip}"
                                                                th:text="${dip.descripcion}"></option>
                                                        </th:block>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="col-md-4 mb-3">
                                                <label for="fechaNacimientoA">Fecha de Nacimiento:</label>
                                                <input type="date" id="fechaNacimientoA" name="fechaNacimientoA"
                                                    class="form-control" th:field="${persona.fecha_nac}" required>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="grado">Grado Academico:</label>
                                                <div class="form-group form-group-custom mb-6">
                                                    <select class="selectize" name="grado" required
                                                        th:field="${persona.grado_academico}">
                                                        <option value="">Elegir..</option>
                                                        <th:block th:each="gra: ${grados}" th:if="${gra.estado != 'X'}">
                                                            <option th:value="${gra.idGradoAcademico}"
                                                                th:text="${gra.nombre_gradoAcademico}"></option>
                                                        </th:block>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="civil">Estado Civil:</label>
                                                <div class="form-group form-group-custom mb-6">
                                                    <select class="selectize" name="civil" required
                                                        th:field="${persona.tipos_estado_civil}">
                                                        <option value="">Elegir..</option>
                                                        <th:block th:each="civ: ${civiles}"
                                                            th:if="${civ.estado != 'X'}">
                                                            <option th:value="${civ.idTipoEstadoCivil}"
                                                                th:text="${civ.NomEstadoCivil}"></option>
                                                        </th:block>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-4 mb-1">
                                                <label for="sexoA">Sexo:</label>
                                                <div class="form-group form-group-custom mb-3">
                                                    <select class="selectize" name="sexoA" th:field="${persona.sexo}" required>
                                                        <option value="">Elegir..</option>

                                                        <option value="Masculino">Masculino</option>
                                                        <option value="Femenino">Femenino</option>

                                                    </select>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="row">

                                            <div class="col-md-4 mb-3">
                                                <label for="celular">Celular:</label>
                                                <input type="text" id="celular" name="celular" class="form-control" pattern="[0-9]*" title="Por favor, ingrese solo números" required>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="direccion">Dirección:</label>
                                                <input type="text" id="direccion" name="direccion" class="form-control"
                                                    th:field="${persona.direccion}" required>
                                            </div>


                                        </div>
                                        <div class="container mt-3">
                                            <div class="row">
                                                <div>
                                                    <a style="margin-right: 215px;" class="btn btn-secondary"
                                                        name="submitCancelar" href="../../../inicioCliente">Cancelar</a>
                                                </div>
                                                <div>
                                                    <button type="submit" class="btn btn-success" name="submitRegistrar"
                                                        formaction="/registroCliente">Registrarse</button>
                                                </div>
                                            </div>
                                        </div>



                                    </form>
                                  
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- FIN INFORMACION ADMINISTRATIVO -->
            </div>
            <!-- end row -->
        </div>
    </div>
    <!-- end Account pages -->

    <!-- JAVASCRIPT -->
    <script src="../../../../assets/libs/jquery/jquery.min.js"></script>
    <script src="../../../../assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../../../../assets/libs/metismenu/metisMenu.min.js"></script>
    <script src="../../../../assets/libs/simplebar/simplebar.min.js"></script>
    <script src="../../../../assets/libs/node-waves/waves.min.js"></script>

    <script src="https://unicons.iconscout.com/release/v2.0.1/script/monochrome/bundle.js"></script>

    <!-- Required datatable js -->
    <script src="../../../../assets/libs/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="../../../../assets/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>

    <!-- Buttons examples -->
    <script src="../../../../assets/libs/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="../../../../assets/libs/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js"></script>
    <script src="../../../../assets/libs/jszip/jszip.min.js"></script>
    <script src="../../../../assets/libs/pdfmake/build/pdfmake.min.js"></script>
    <script src="../../../../assets/libs/pdfmake/build/vfs_fonts.js"></script>
    <script src="../../../../assets/libs/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="../../../../assets/libs/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="../../../../assets/libs/datatables.net-buttons/js/buttons.colVis.min.js"></script>
    <!-- Responsive examples -->
    <script src="../../../../assets/libs/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="../../../../assets/libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>

    <!-- Datatable init js -->
    <script src="../../../../assets/js/pages/datatables.init.js"></script>

    <!-- alert -->
    <script src="../../../../assets/libs/alertifyjs/build/alertify.min.js"></script>
    <script src="../../../../assets/js/pages/alertifyjs.init.js"></script>

    <script src="../../../../assets/js/pages/vistaPass.js"></script>
    <script src="../../../../assets/js/pages/calendario.js"></script>
    <script src="../../../../assets/js/pages/data.js"></script>


    <!-- parsleyjs -->
    <script src="../../../../assets/libs/parsleyjs/parsley.min.js"></script>
    <!-- validation init -->
    <script src="../../../../assets/js/pages/form-validation.init.js"></script>

    <!-- modal-->
    <script src="../../../../assets/js/pages/modalLiname.js"></script>


    <!-- Spectrum colorpicker -->
    <script src="assets/libs/spectrum-colorpicker/spectrum.js"></script>

    <!-- Selectize -->
    <script src="assets/libs/selectize/js/standalone/selectize.min.js"></script>

    <!-- datepicker -->
    <script src="assets/libs/air-datepicker/js/datepicker.min.js"></script>
    <script src="assets/libs/air-datepicker/js/i18n/datepicker.en.js"></script>

    <script src="assets/libs/bootstrap-touchspin/jquery.bootstrap-touchspin.min.js"></script>
    <script src="assets/libs/bootstrap-maxlength/bootstrap-maxlength.min.js"></script>

    <!-- Form Advanced init -->
    <script src="assets/js/pages/form-advanced.init.js"></script>

    <script src="assets/js/app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        $(document).ready(function () {
         
            $('#form1').submit(function (event) {
                event.preventDefault();
                var form = document.getElementById("form1");
                var action = form.action;
                var formData = $(this).serialize();

                $.ajax({
                    type: 'POST',
                    url: $(this).attr('action'),
                    data: formData,
                    contentType: 'application/x-www-form-urlencoded',
                    success: function (response) {
                        var mensaje = response;
                        if (mensaje == "exito") {
                            Swal.fire({
                                title: 'Registro Exitoso!',
                                icon: "success",
                                showConfirmButton: false,
                                timer: 1500
                            });
                            // Redireccionar a la página de inicioCliente después de la alerta de éxito
                            setTimeout(function () {
                                location.href = "../../../../inicioCliente";
                            }, 2200);
                        } else {
                            Swal.fire({
                                title: 'Error, ya se encuentra registrado ese C.I.',
                                icon: "warning",
                                showConfirmButton: false,
                                timer: 1500
                            });
                        }
                    },
                    error: function (xhr, status, error) {
                        toastr.error('Ha ocurrido un error. Por favor, intenta nuevamente.' + xhr, status, error);
                        console.error(error);
                        // Manejo de errores
                    }
                });

            });
        });
    </script>

</body>

</html>